# Generated by KFP.

FROM nvidia/cuda:11.8.0-base-ubuntu20.04

# Custom added
RUN set -xe \
    && apt-get update \
    && apt-get install -y python3-pip

RUN pip install --upgrade pip

WORKDIR /usr/local/src/kfp/components
COPY runtime-requirements.txt runtime-requirements.txt

RUN pip3 install --no-cache-dir torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu118 &&\
    pip install --no-cache-dir -r runtime-requirements.txt

# RUN cd /usr/bin/ && ln -s $(which python3) python
RUN pip install --no-cache-dir kfp==2.3.0
COPY . .

